{"ast":null,"code":"var _jsxFileName = \"/Users/lisapousetteblome/Desktop/technigo-final-project/frontend/src/components/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch, batch } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { API_URL } from \"../utils/constants\";\nimport member from \"../reducers/member\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [questions, setQuestions] = useState([]);\n  const accessToken = useSelector(store => store.member.accessToken);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (accessToken) {\n      navigate(\"/\");\n    }\n  }, [accessToken, navigate]);\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    };\n    fetch(API_URL(\"register\"), options).then(res => res.json()).then(data => {\n      if (data.success) {\n        batch(() => {\n          dispatch(member.actions.setUserId(data.response.userId));\n          dispatch(member.actions.setUsername(data.response.username));\n          dispatch(member.actions.setAccessToken(data.response.accessToken));\n          dispatch(member.actions.setError(null));\n        });\n      } else {\n        batch(() => {\n          dispatch(member.actions.setUserId(null));\n          dispatch(member.actions.setUsername(null));\n          dispatch(member.actions.setAccessToken(null));\n          dispatch(member.actions.setError(data.response));\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    fetch(API_URL(\"questions\")).then(res => res.json()).then(data => setQuestions(data));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Hello from login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username\",\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"username\",\n        type: \"text\",\n        value: username,\n        onChange: e => setUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"password\",\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: onFormSubmit,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: \"Already a member? Login here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), questions.map(q => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: q.question\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: q.answerone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: q.answertwo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: q.answerthree\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: q.answerfour\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, q._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true);\n};\n\n_s(Register, \"bN/s3v1F/F5DC3psjABCxQxWHX0=\", false, function () {\n  return [useSelector, useDispatch, useNavigate];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/lisapousetteblome/Desktop/technigo-final-project/frontend/src/components/Register.js"],"names":["React","useState","useEffect","useSelector","useDispatch","batch","Link","useNavigate","API_URL","member","Register","username","setUsername","password","setPassword","questions","setQuestions","accessToken","store","dispatch","navigate","onFormSubmit","e","preventDefault","options","method","headers","body","JSON","stringify","fetch","then","res","json","data","success","actions","setUserId","response","userId","setAccessToken","setError","target","value","map","q","question","answerone","answertwo","answerthree","answerfour","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch, batch } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { API_URL } from \"../utils/constants\";\nimport member from \"../reducers/member\";\n\nconst Register = () => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [questions, setQuestions] = useState([]);\n\n  const accessToken = useSelector((store) => store.member.accessToken);\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (accessToken) {\n      navigate(\"/\");\n    }\n  }, [accessToken, navigate]);\n\n  const onFormSubmit = (e) => {\n    e.preventDefault();\n\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ username, password }),\n    };\n\n    fetch(API_URL(\"register\"), options)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.success) {\n          batch(() => {\n            dispatch(member.actions.setUserId(data.response.userId));\n            dispatch(member.actions.setUsername(data.response.username));\n            dispatch(member.actions.setAccessToken(data.response.accessToken));\n            dispatch(member.actions.setError(null));\n          });\n        } else {\n          batch(() => {\n            dispatch(member.actions.setUserId(null));\n            dispatch(member.actions.setUsername(null));\n            dispatch(member.actions.setAccessToken(null));\n            dispatch(member.actions.setError(data.response));\n          });\n        }\n      });\n  };\n\n  useEffect(() => {\n    fetch(API_URL(\"questions\"))\n      .then((res) => res.json())\n      .then((data) => setQuestions(data));\n  }, []);\n\n  return (\n    <>\n      <div>Hello from login</div>\n      <form onSubmit={onFormSubmit}>\n        <label htmlFor=\"username\">Username</label>\n        <input\n          id=\"username\"\n          type=\"text\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n        />\n        <label htmlFor=\"password\">Password</label>\n        <input\n          id=\"password\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button type=\"submit\" onClick={onFormSubmit}>\n          Register\n        </button>\n      </form>\n      <Link to=\"/\">Already a member? Login here</Link>\n\n      {questions.map((q) => (\n        <div key={q._id}>\n          <p>{q.question}</p>\n          <button>{q.answerone}</button>\n          <button>{q.answertwo}</button>\n          <button>{q.answerthree}</button>\n          <button>{q.answerfour}</button>\n        </div>\n      ))}\n    </>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}