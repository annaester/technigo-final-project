{"ast":null,"code":"var _jsxFileName = \"/Users/lisapousetteblome/Desktop/technigo-final-project/frontend/src/components/Register.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const accessToken = useSelector(store => store.member.accessToken);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (accessToken) {\n      navigate(\"/\");\n    }\n  }, [accessToken, navigate]);\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    };\n    fetch(API_URL(\"/register\"), options).then(res => res.json()).then(data => {\n      if (data.success) {\n        batch(() => {\n          dispatch(member.actions.setUserId(data.response.userId));\n          dispatch(member.actions.setUserName(data.response.username));\n          dispatch(member.actions.setAccessToken(data.response.accessToken));\n          dispatch(member.actions.setError(null));\n        });\n      } else {\n        batch(() => {\n          dispatch(member.actions.setUserId(null));\n          dispatch(member.actions.setUserName(null));\n          dispatch(member.actions.setAccessToken(null));\n          dispatch(member.actions.setError(data.response));\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Hello from login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username\",\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"username\",\n        type: \"text\",\n        value: username,\n        onChange: e => setUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"password\",\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: onFormSubmit,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/login\",\n      children: \"Already a member? Login here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Register, \"0iLS7Xy4JJB2v9Xjpc4edovAGOA=\", true);\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/lisapousetteblome/Desktop/technigo-final-project/frontend/src/components/Register.js"],"names":["React","Register","username","setUsername","useState","password","setPassword","accessToken","useSelector","store","member","dispatch","useDispatch","navigate","useNavigate","useEffect","onFormSubmit","e","preventDefault","options","method","headers","body","JSON","stringify","fetch","API_URL","then","res","json","data","success","batch","actions","setUserId","response","userId","setUserName","setAccessToken","setError","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AACrB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BC,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BF,QAAQ,CAAC,EAAD,CAAxC;AAEA,QAAMG,WAAW,GAAGC,WAAW,CAAEC,KAAD,IAAWA,KAAK,CAACC,MAAN,CAAaH,WAAzB,CAA/B;AAEA,QAAMI,QAAQ,GAAGC,WAAW,EAA5B;AACA,QAAMC,QAAQ,GAAGC,WAAW,EAA5B;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIR,WAAJ,EAAiB;AACfM,MAAAA,QAAQ,CAAC,GAAD,CAAR;AACD;AACF,GAJQ,EAIN,CAACN,WAAD,EAAcM,QAAd,CAJM,CAAT;;AAMA,QAAMG,YAAY,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAMC,OAAO,GAAG;AACdC,MAAAA,MAAM,EAAE,MADM;AAEdC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFK;AAKdC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEtB,QAAAA,QAAF;AAAYG,QAAAA;AAAZ,OAAf;AALQ,KAAhB;AAQAoB,IAAAA,KAAK,CAACC,OAAO,CAAC,WAAD,CAAR,EAAuBP,OAAvB,CAAL,CACGQ,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESG,IAAD,IAAU;AACd,UAAIA,IAAI,CAACC,OAAT,EAAkB;AAChBC,QAAAA,KAAK,CAAC,MAAM;AACVrB,UAAAA,QAAQ,CAACD,MAAM,CAACuB,OAAP,CAAeC,SAAf,CAAyBJ,IAAI,CAACK,QAAL,CAAcC,MAAvC,CAAD,CAAR;AACAzB,UAAAA,QAAQ,CAACD,MAAM,CAACuB,OAAP,CAAeI,WAAf,CAA2BP,IAAI,CAACK,QAAL,CAAcjC,QAAzC,CAAD,CAAR;AACAS,UAAAA,QAAQ,CAACD,MAAM,CAACuB,OAAP,CAAeK,cAAf,CAA8BR,IAAI,CAACK,QAAL,CAAc5B,WAA5C,CAAD,CAAR;AACAI,UAAAA,QAAQ,CAACD,MAAM,CAACuB,OAAP,CAAeM,QAAf,CAAwB,IAAxB,CAAD,CAAR;AACD,SALI,CAAL;AAMD,OAPD,MAOO;AACLP,QAAAA,KAAK,CAAC,MAAM;AACVrB,UAAAA,QAAQ,CAACD,MAAM,CAACuB,OAAP,CAAeC,SAAf,CAAyB,IAAzB,CAAD,CAAR;AACAvB,UAAAA,QAAQ,CAACD,MAAM,CAACuB,OAAP,CAAeI,WAAf,CAA2B,IAA3B,CAAD,CAAR;AACA1B,UAAAA,QAAQ,CAACD,MAAM,CAACuB,OAAP,CAAeK,cAAf,CAA8B,IAA9B,CAAD,CAAR;AACA3B,UAAAA,QAAQ,CAACD,MAAM,CAACuB,OAAP,CAAeM,QAAf,CAAwBT,IAAI,CAACK,QAA7B,CAAD,CAAR;AACD,SALI,CAAL;AAMD;AACF,KAlBH;AAmBD,GA9BD;;AA+BA,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAM,MAAA,QAAQ,EAAEnB,YAAhB;AAAA,8BACE;AAAO,QAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AACE,QAAA,EAAE,EAAC,UADL;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAEd,QAHT;AAIE,QAAA,QAAQ,EAAGe,CAAD,IAAOd,WAAW,CAACc,CAAC,CAACuB,MAAF,CAASC,KAAV;AAJ9B;AAAA;AAAA;AAAA;AAAA,cAFF,eAQE;AAAO,QAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARF,eASE;AACE,QAAA,EAAE,EAAC,UADL;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,KAAK,EAAEpC,QAHT;AAIE,QAAA,QAAQ,EAAGY,CAAD,IAAOX,WAAW,CAACW,CAAC,CAACuB,MAAF,CAASC,KAAV;AAJ9B;AAAA;AAAA;AAAA;AAAA,cATF,eAeE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAEzB,YAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAfF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAqBE,QAAC,IAAD;AAAM,MAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YArBF;AAAA,kBADF;AAyBD,CAvED;;GAAMf,Q;;KAAAA,Q;AAyEN,eAAeA,QAAf","sourcesContent":["import React from \"react\";\n\nconst Register = () => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const accessToken = useSelector((store) => store.member.accessToken);\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (accessToken) {\n      navigate(\"/\");\n    }\n  }, [accessToken, navigate]);\n\n  const onFormSubmit = (e) => {\n    e.preventDefault();\n\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ username, password }),\n    };\n\n    fetch(API_URL(\"/register\"), options)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.success) {\n          batch(() => {\n            dispatch(member.actions.setUserId(data.response.userId));\n            dispatch(member.actions.setUserName(data.response.username));\n            dispatch(member.actions.setAccessToken(data.response.accessToken));\n            dispatch(member.actions.setError(null));\n          });\n        } else {\n          batch(() => {\n            dispatch(member.actions.setUserId(null));\n            dispatch(member.actions.setUserName(null));\n            dispatch(member.actions.setAccessToken(null));\n            dispatch(member.actions.setError(data.response));\n          });\n        }\n      });\n  };\n  return (\n    <>\n      <div>Hello from login</div>\n      <form onSubmit={onFormSubmit}>\n        <label htmlFor=\"username\">Username</label>\n        <input\n          id=\"username\"\n          type=\"text\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n        />\n        <label htmlFor=\"password\">Password</label>\n        <input\n          id=\"password\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button type=\"submit\" onClick={onFormSubmit}>\n          Login\n        </button>\n      </form>\n      <Link to=\"/login\">Already a member? Login here</Link>\n    </>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}